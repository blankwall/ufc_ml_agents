{
  "fight_details_url": "http://ufcstats.com/fight-details/fa4b3f5ce8055921",
  "fighters": [
    {
      "name": "Justin Gaethje",
      "ufcstats_id": "9e8f6c728eb01124",
      "status": "W"
    },
    {
      "name": "Paddy Pimblett",
      "ufcstats_id": "7826923b47f8d72a",
      "status": "L"
    }
  ],
  "model_prediction": {
    "f1_win_probability": 0.527,
    "f2_win_probability": 0.473,
    "predicted_winner": "Justin Gaethje",
    "confidence_level": "low",
    "correct": true
  },
  "key_missed_areas": [
    "Opponent quality differential significantly under-weighted: Gaethje's opponent_quality_score (0.36) vs Pimblett's (0.078) represents a 4.6x advantage, yet model only assigned 52.7% win probability",
    "Age penalty may have over-compensated for experience advantage: 7-year age difference (37 vs 30) penalized Gaethje without properly accounting for his superior competition level and proven track record against elite opponents",
    "Striking differential advantage (5.2) not sufficiently weighted: Gaethje's significant striking differential advantage was not reflected in the confidence level",
    "Recent form context missing: Both fighters show similar recent win rates (0.667), but Gaethje's recent form came against significantly higher quality opponents (avg opponent win rate 0.715 vs 0.515), which should be a distinguishing factor",
    "Opponent quality-adjusted recent performance not captured: The model has time_decayed_win_rate_adj_opp_quality features but may not be properly weighting the quality-adjusted metrics in recent form comparisons"
  ],
  "hypotheses": [
    "The opponent_quality_score_diff feature (0.282) is not being weighted heavily enough relative to other features, causing the model to underestimate favorites with significant quality advantages",
    "Age interaction features may be creating a double penalty: age_difference combined with age_x_* features may be over-penalizing older fighters even when they have compensating advantages in experience and opponent quality",
    "The model may need a feature that captures 'recent form quality-adjusted' - comparing recent performance while accounting for the quality of opponents faced during that period",
    "Striking differential features may need interaction with opponent quality to properly weight striking advantages against elite competition vs lower-tier competition",
    "The model may benefit from a composite 'elite experience score' that combines opponent quality, title fight experience, and performance against top-tier opponents"
  ],
  "iteration_results": [
    {
      "iteration": 1,
      "status": "reverted",
      "change": "Added opponent_quality_score_diff_squared feature",
      "outcome": "Improved Top 25% accuracy from 0.7785 to 0.8333 (+5.48 pp) but severely degraded underdog top 25% performance (accuracy: 0.591 to 0.476, ROI: 0.52 to 0.25). The squared feature was too aggressive in favoring favorites, making it harder to identify valuable underdog opportunities.",
      "lesson": "Non-linear transformations that uniformly amplify differences can improve favorite identification but harm underdog detection. Need more nuanced approaches that preserve underdog signal while improving Top 25% accuracy."
    },
    {
      "iteration": 2,
      "status": "reverted",
      "change": "Added recent_form_quality_adjusted_diff feature",
      "outcome": "Improved Top 25% accuracy from 0.7785 to 0.7919 (+1.34 pp) but significantly degraded underdog top 25% performance (accuracy: 0.591 to 0.524, ROI: 0.52 to 0.38). Overall accuracy also decreased from 0.67 to 0.6498. The quality-adjusted recent form feature over-weighted favorites, similar to iteration 1's pattern.",
      "lesson": "Features that directly amplify quality differences (whether through squaring or quality-adjusted weighting) consistently improve Top 25% accuracy but harm underdog identification. Need approaches that improve confidence calibration for both favorites and underdogs simultaneously, or fix broken features that should be neutral."
    },
    {
      "iteration": 3,
      "status": "kept",
      "change": "Fixed common_opponent_performance_diff feature calculation to properly aggregate results across all fights against common opponents",
      "outcome": "Improved Top 25% accuracy from 0.7785 to 0.8054 (+2.69 pp) but slightly degraded underdog top 25% performance (accuracy: 0.591 to 0.571, ROI: 0.52 to 0.49). Overall accuracy decreased from 0.67 to 0.6599. The bug fix now provides meaningful signal when common opponents exist, but in practice the feature appears to slightly favor favorites despite being theoretically neutral.",
      "lesson": "Even theoretically neutral features (based on direct comparative evidence) can have subtle biases in practice. Bug fixes that restore functionality are valuable, but may still require monitoring and adjustment. The improvement in Top 25% accuracy was meaningful enough to keep the change, but future iterations should focus on features that better preserve underdog signal."
    },
    {
      "iteration": 4,
      "status": "kept",
      "change": "Added interaction feature 'striking_differential_x_opponent_quality_diff' that multiplies striking_differential by opponent_quality_score_diff",
      "outcome": "Improved Top 25% accuracy from baseline 0.7785 to 0.8121 (+3.36 pp) and also improved underdog top 25% performance (accuracy: 0.591 to 0.609, ROI: 0.52 to 0.63). This is the first iteration to improve both primary goals simultaneously. The interaction feature's selective activation (requiring both striking advantage AND quality advantage) successfully identified elite-level favorites without over-penalizing underdogs. Overall accuracy slightly decreased from baseline (0.6667 vs 0.67, -0.33 pp) but improved from iter 3 (0.6599).",
      "lesson": "Interaction features that require multiple conditions to activate are more balanced than direct amplification approaches. The selective nature of the interaction (only boosting when both advantages align) allows the model to better distinguish elite-level performance from lower-tier dominance while preserving underdog signal. This demonstrates that carefully designed interaction features can achieve the dual goal of improving Top 25% accuracy while maintaining or improving underdog performance."
    }
  ],
  "proposed_iterations": [
    {
      "iteration": 5,
      "target": "Top 25% + Underdog Balance",
      "priority": "high",
      "description": "Create a threshold-based feature 'opponent_quality_score_diff_extreme' that only activates for extreme quality differences (e.g., absolute difference > 0.2). This preserves the signal for large quality gaps (like Gaethje's 0.282 advantage) without over-penalizing moderate differences that might favor underdogs. The feature would be 0 for differences <= 0.2 and equal to the difference for values > 0.2.",
      "rationale": "Iteration 4's interaction feature successfully improved both Top 25% accuracy and underdog performance by being selective. A threshold-based approach for extreme quality differences should similarly capture large quality advantages (which should drive high confidence for favorites) while preserving the model's ability to identify valuable underdog opportunities in closer matchups. This balances both Top 25% accuracy and underdog performance goals by only activating for truly extreme differences. Given the success of selective activation in iteration 4, this threshold-based feature should follow a similar pattern.",
      "feature_focus": "opponent_quality_score_diff_extreme (new threshold feature)",
      "expected_impact": "Should improve Top 25% accuracy for extreme favorites while preserving underdog signal in closer matchups. Threshold-based activation should be more selective than always-on features, following the successful pattern from iteration 4."
    },
    {
      "iteration": 6,
      "target": "Top 25% + Underdog Balance",
      "priority": "medium",
      "description": "Create an interaction feature 'age_x_opponent_quality_diff' that reduces age penalty when opponent_quality_score_diff is large. Age penalty may be over-compensating for experience advantage - 7-year age difference (37 vs 30) penalized Gaethje without properly accounting for his superior competition level. The interaction would allow age to be less of a concern for fighters with significant quality advantages.",
      "rationale": "Age features may be creating a double penalty when combined with other features. For fighters with significant quality advantages, age should be less of a concern. This interaction feature follows the successful pattern from iteration 4 - requiring both conditions (age difference AND quality difference) to activate, making it selective. This adjustment could help improve Top 25% confidence for experienced favorites while maintaining underdog performance. The interaction approach has proven successful in iteration 4.",
      "feature_focus": "age_x_opponent_quality_diff (new interaction feature)",
      "expected_impact": "Should improve Top 25% accuracy for experienced favorites with quality advantages, with neutral to positive impact on underdogs. The selective activation pattern should preserve underdog signal similar to iteration 4."
    },
    {
      "iteration": 7,
      "target": "Top 25% + Underdog Balance",
      "priority": "low",
      "description": "Explore interaction features for recent form quality-adjusted metrics. Both fighters show similar recent win rates (0.667), but Gaethje's recent form came against significantly higher quality opponents. Consider creating an interaction feature that combines recent form with opponent quality, such as 'recent_win_rate_x_opponent_quality_diff' or similar, following the selective activation pattern that worked in iteration 4.",
      "rationale": "The model has time_decayed_win_rate_adj_opp_quality features but may not be properly weighting the quality-adjusted metrics in recent form comparisons. An interaction feature that requires both recent form advantage AND quality advantage could help distinguish between fighters with similar win rates but different competition levels. This follows the successful pattern from iteration 4. However, this is lower priority given the strong improvements already achieved.",
      "feature_focus": "recent_form_x_opponent_quality interaction feature",
      "expected_impact": "Should improve Top 25% accuracy by better identifying fighters with strong recent form against elite competition, with minimal impact on underdogs due to selective activation."
    }
  ],
  "key_lessons": [
    "Features that directly amplify quality differences (squared, quality-adjusted weighting) consistently improve Top 25% accuracy but harm underdog identification",
    "Even theoretically neutral features (like common_opponent_performance_diff) can have subtle biases in practice that favor favorites",
    "Bug fixes that restore functionality are valuable and can meaningfully improve Top 25% accuracy, but may still require monitoring for underdog impact",
    "Interaction features that require multiple conditions to activate are more balanced than direct amplification - iteration 4's success demonstrates this pattern",
    "Selective activation (requiring both conditions) allows interaction features to identify elite-level performance while preserving underdog signal",
    "Threshold-based features that only activate for extremes may preserve underdog signal in closer matchups better than always-on features",
    "Current Top 25% accuracy is 0.8121 (up from baseline 0.7785, +3.36 pp) and underdog top 25% performance has improved (0.609 accuracy, 0.63 ROI vs baseline 0.591 accuracy, 0.52 ROI). Both primary goals have been achieved simultaneously."
  ]
}
