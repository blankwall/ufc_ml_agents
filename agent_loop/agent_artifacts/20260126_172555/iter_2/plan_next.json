{
  "fight_details_url": "http://ufcstats.com/fight-details/fa4b3f5ce8055921",
  "fighters": [
    {
      "name": "Justin Gaethje",
      "ufcstats_id": "9e8f6c728eb01124",
      "status": "W"
    },
    {
      "name": "Paddy Pimblett",
      "ufcstats_id": "7826923b47f8d72a",
      "status": "L"
    }
  ],
  "model_prediction": {
    "f1_win_probability": 0.527,
    "f2_win_probability": 0.473,
    "predicted_winner": "Justin Gaethje",
    "confidence_level": "low",
    "correct": true
  },
  "key_missed_areas": [
    "Opponent quality differential significantly under-weighted: Gaethje's opponent_quality_score (0.36) vs Pimblett's (0.078) represents a 4.6x advantage, yet model only assigned 52.7% win probability",
    "Age penalty may have over-compensated for experience advantage: 7-year age difference (37 vs 30) penalized Gaethje without properly accounting for his superior competition level and proven track record against elite opponents",
    "Striking differential advantage (5.2) not sufficiently weighted: Gaethje's significant striking differential advantage was not reflected in the confidence level",
    "Common opponent analysis feature shows 0.0 despite 2 common opponents existing: The common_opponent_performance_diff feature failed to capture meaningful head-to-head context",
    "Recent form context missing: Both fighters show similar recent win rates (0.667), but Gaethje's recent form came against significantly higher quality opponents (avg opponent win rate 0.715 vs 0.515), which should be a distinguishing factor",
    "Opponent quality-adjusted recent performance not captured: The model has time_decayed_win_rate_adj_opp_quality features but may not be properly weighting the quality-adjusted metrics in recent form comparisons"
  ],
  "hypotheses": [
    "The opponent_quality_score_diff feature (0.282) is not being weighted heavily enough relative to other features, causing the model to underestimate favorites with significant quality advantages",
    "Age interaction features may be creating a double penalty: age_difference combined with age_x_* features may be over-penalizing older fighters even when they have compensating advantages in experience and opponent quality",
    "The model may need a feature that captures 'recent form quality-adjusted' - comparing recent performance while accounting for the quality of opponents faced during that period",
    "Common opponent analysis is not functioning correctly (showing 0.0 when 2 common opponents exist), suggesting the feature calculation or data pipeline has an issue",
    "Striking differential features may need interaction with opponent quality to properly weight striking advantages against elite competition vs lower-tier competition",
    "The model may benefit from a composite 'elite experience score' that combines opponent quality, title fight experience, and performance against top-tier opponents"
  ],
  "iteration_results": [
    {
      "iteration": 1,
      "status": "reverted",
      "change": "Added opponent_quality_score_diff_squared feature",
      "outcome": "Improved Top 25% accuracy from 0.7785 to 0.8333 (+5.48 pp) but severely degraded underdog top 25% performance (accuracy: 0.591 to 0.476, ROI: 0.52 to 0.25). The squared feature was too aggressive in favoring favorites, making it harder to identify valuable underdog opportunities.",
      "lesson": "Non-linear transformations that uniformly amplify differences can improve favorite identification but harm underdog detection. Need more nuanced approaches that preserve underdog signal while improving Top 25% accuracy."
    },
    {
      "iteration": 2,
      "status": "reverted",
      "change": "Added recent_form_quality_adjusted_diff feature",
      "outcome": "Improved Top 25% accuracy from 0.7785 to 0.7919 (+1.34 pp) but significantly degraded underdog top 25% performance (accuracy: 0.591 to 0.524, ROI: 0.52 to 0.38). Overall accuracy also decreased from 0.67 to 0.6498. The quality-adjusted recent form feature over-weighted favorites, similar to iteration 1's pattern.",
      "lesson": "Features that directly amplify quality differences (whether through squaring or quality-adjusted weighting) consistently improve Top 25% accuracy but harm underdog identification. Need approaches that improve confidence calibration for both favorites and underdogs simultaneously, or fix broken features that should be neutral."
    }
  ],
  "proposed_iterations": [
    {
      "iteration": 3,
      "target": "Top 25% + Underdog Balance",
      "priority": "high",
      "description": "Fix and enhance the common_opponent_performance_diff feature calculation. Currently showing 0.0 despite 2 common opponents existing. Implement proper calculation that compares head-to-head performance against shared opponents, and ensure the feature is properly populated in the data pipeline. This provides direct matchup context that should boost confidence when one fighter has clearly outperformed the other against mutual opponents.",
      "rationale": "Common opponent analysis provides direct comparative evidence without inherent bias toward favorites or underdogs. With 2 common opponents, this feature should have provided meaningful signal but was non-functional. Fixing this will improve Top 25% confidence accuracy and should not negatively impact underdog identification since it's based on direct head-to-head evidence rather than quality differentials.",
      "feature_focus": "common_opponent_performance_diff (fix existing feature)",
      "expected_impact": "Should improve Top 25% accuracy without degrading underdog performance, as it provides neutral comparative evidence."
    },
    {
      "iteration": 4,
      "target": "Top 25% + Underdog Balance",
      "priority": "medium",
      "description": "Create an interaction feature 'striking_differential_x_opponent_quality_diff' that multiplies striking_differential by opponent_quality_score_diff. This ensures that striking advantages are weighted more heavily when achieved against elite competition, distinguishing between fighters who dominate lower-tier opponents vs those who excel against top competition.",
      "rationale": "Gaethje's striking differential (5.2) was achieved against much higher quality opponents. The model should weight this more heavily than similar differentials against weaker competition. This interaction feature is more subtle than direct quality amplification - it only boosts confidence when BOTH striking advantage AND quality advantage exist, which should help identify true favorites without over-penalizing underdogs who may have striking advantages against weaker competition.",
      "feature_focus": "striking_differential_x_opponent_quality_diff (new interaction feature)",
      "expected_impact": "Should improve Top 25% accuracy by better identifying elite-level striking performance, with minimal impact on underdog performance since it requires both conditions to be met."
    },
    {
      "iteration": 5,
      "target": "Top 25% + Underdog Balance",
      "priority": "medium",
      "description": "Create a threshold-based feature 'opponent_quality_score_diff_extreme' that only activates for extreme quality differences (e.g., absolute difference > 0.2). This preserves the signal for large quality gaps (like Gaethje's 0.282 advantage) without over-penalizing moderate differences that might favor underdogs. The feature would be 0 for differences <= 0.2 and equal to the difference for values > 0.2.",
      "rationale": "Both squared and quality-adjusted approaches improved Top 25% but hurt underdogs. A threshold-based approach will capture extreme quality advantages (which should drive high confidence for favorites) while preserving the model's ability to identify valuable underdog opportunities in closer matchups. This balances both Top 25% accuracy and underdog performance goals by only activating for truly extreme differences.",
      "feature_focus": "opponent_quality_score_diff_extreme (new threshold feature)",
      "expected_impact": "Should improve Top 25% accuracy for extreme favorites while preserving underdog signal in closer matchups."
    },
    {
      "iteration": 6,
      "target": "Top 25% + Underdog Balance",
      "priority": "low",
      "description": "Review and potentially adjust age interaction features. Age penalty may be over-compensating for experience advantage - 7-year age difference (37 vs 30) penalized Gaethje without properly accounting for his superior competition level. Consider creating an interaction feature that reduces age penalty when opponent_quality_score_diff is large, or adjust existing age_x_* features to be less aggressive.",
      "rationale": "Age features may be creating a double penalty when combined with other features. For fighters with significant quality advantages, age should be less of a concern. This adjustment could help improve Top 25% confidence for experienced favorites while maintaining underdog performance.",
      "feature_focus": "age_x_opponent_quality interaction or age feature adjustment",
      "expected_impact": "Should improve Top 25% accuracy for experienced favorites with quality advantages, with neutral impact on underdogs."
    }
  ],
  "key_lessons": [
    "Features that directly amplify quality differences (squared, quality-adjusted weighting) consistently improve Top 25% accuracy but harm underdog identification",
    "Need approaches that improve confidence calibration for both favorites and underdogs simultaneously",
    "Fixing broken features (like common_opponent_performance_diff) should be prioritized as they provide neutral signal",
    "Interaction features that require multiple conditions may be more balanced than direct amplification",
    "Threshold-based features that only activate for extremes may preserve underdog signal in closer matchups"
  ]
}
